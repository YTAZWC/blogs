import{_ as t,r as n,o as h,c as k,b as i,d as s,a as l,e}from"./app-DI1bKprO.js";const r={},p=e('<h2 id="什么是序列化和反序列化" tabindex="-1"><a class="header-anchor" href="#什么是序列化和反序列化"><span>什么是序列化和反序列化?</span></a></h2><p>如果需要<strong>持久化Java对象</strong>比如将Java对象保存在文件中, 或在<strong>网络传输Java对象</strong>, 这些场景需要使用到序列化.</p><h3 id="序列化" tabindex="-1"><a class="header-anchor" href="#序列化"><span>序列化</span></a></h3><p>将数据结构或对象转化成二进制字节流的过程</p><h3 id="反序列化" tabindex="-1"><a class="header-anchor" href="#反序列化"><span>反序列化</span></a></h3><p>将在序列化过程中所产生的二进制字节流转换成数据结构或者对象的过程</p><h3 id="目的" tabindex="-1"><a class="header-anchor" href="#目的"><span>目的</span></a></h3><p>序列化的主要目的是 <mark>通过网络传输对象</mark> 或者是将 <mark>对象存储到文件系统,数据库或内存</mark> 中.</p><h2 id="常见序列化协议" tabindex="-1"><a class="header-anchor" href="#常见序列化协议"><span>常见序列化协议</span></a></h2><p>JDK自带的序列化方式,因为序列化效率低而且存在安全问题, 一般不会使用.</p><p>像JSON和XML这种属于文本类序列化方式, 虽然可读性好, 但是性能较差, 一般不会选择</p><p>常用的基于二进制序列化协议有: Hessian, Kryo, Protobuf, ProtoStuff</p><h3 id="jdk-自带的序列化方式" tabindex="-1"><a class="header-anchor" href="#jdk-自带的序列化方式"><span>JDK 自带的序列化方式</span></a></h3><p>JDK自带的序列化, 只需要实现<code>java.io.Serializable</code>接口即可, 如下所示:</p>',14),d=i("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"java"},[i("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code","v-pre":""},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," * "),i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"@author"),i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," 花木凋零成兰")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," * @title SerializableTest")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," * @date 2024/4/26 16:41")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," * @package com.example.demo.demo1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," * @description 测试JDK的序列化方式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"public"),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," class"),i("span",{style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}}," SerializableTest"),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," implements"),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}}," Serializable"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    private"),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," static"),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," final"),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," long"),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," serialVersionUID"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),i("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}}," 1L"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    private"),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," String"),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," filed1"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    private"),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," String"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"[]"),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," filed2"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    private"),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," Object"),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," parameters"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true"},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),o=e('<p><strong>serialVersionUID有什么作用呢?</strong></p><p>主要用于版本控制, 反序列化时, 会检查<code>serialVersionUID</code>是否符合与当前类的<code>serialVersionUID</code>一致, 不一致则会抛出<code>InvalidClassException</code>异常</p><p>推荐每个序列化类都手动指定其<code>serialVersionUID</code>, 如果不手动指定, 则编译器会动态生成默认的<code>serialVersionUID</code></p><p><strong>serialVersionUID不是被static修饰了吗? 为什么还会序列化?</strong></p><p><code>static</code>修饰的变量是静态变量, 位于方法区, 本身不会被序列化, 但是<code>serialVersionUID</code>的序列化做了特殊处理, 序列化时, 会将其序列化到二进制字节流中, 在反序列化时也会解析并做一致性判断</p><p>即, <code>serialVersionUID</code>只是用来被JVM识别, 实际并没有被序列化</p><p><strong>有些字段并不想序列化怎么办?</strong></p><p>对于不想序列化的字段, 可以使用<code>transient</code>关键字修饰; 其作为为: 阻止实例中用此关键字修饰的变量序列化, 对象被反序列化时, 被该关键字修饰的变量值不会被持久化和恢复</p><p>关于<code>transient</code>注意:</p><ul><li>只能修饰变量, 不能修饰类和方法</li><li>修饰的变量, 在被反序列化后变量值会被置成变量类型的默认值, 例如,修饰<code>int</code>类型, 那么反序列化后结果就是0</li><li><code>static</code>变量,因为不属于任何对象, 所以无论有无<code>transient</code>关键字修饰, 都不会被序列化</li></ul><p><strong>为什么不推荐使用JDK序列化</strong></p><ul><li>不支持跨语言调用</li><li>性能差; 序列化后的字节数组体积较大, 传输成本加大</li><li>存在安全问题</li></ul><h3 id="kryo" tabindex="-1"><a class="header-anchor" href="#kryo"><span>Kryo</span></a></h3><p>是一个高性能的序列化/反序列化工具, 由于其变长存储特性并使用了字节码生成机制, 拥有较高的运行速度和较小的字节码体积</p><p>另外, Kryo序列化实现趋于成熟, 且在多个著名开源项目中广泛使用</p>',15),c={href:"https://github.com/EsotericSoftware/kryo?tab=readme-ov-file",target:"_blank",rel:"noopener noreferrer"},g=i("p",null,"使用示例如下:",-1),y=i("div",{class:"language-java line-numbers-mode","data-ext":"java","data-title":"java"},[i("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code","v-pre":""},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," * "),i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"@author"),i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," 花木凋零成兰")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," * @title HelloKryo")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," * @date 2024/4/26 17:14")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," * @package com.example.demo.demo1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," * @description 尝试Kryo序列化")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"public"),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," class"),i("span",{style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}}," HelloKryo"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    static"),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," public"),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," void"),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}}," main"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ("),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"String"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"[]"),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," args"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},")"),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," throws"),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," Exception "),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"        // 创建Kryo实例")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"        Kryo"),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," kryo"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}}," new"),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}}," Kryo"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"        // 使用register方法注册一个类SomeClass 让Kryo知道应该序列化的类")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"        kryo"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"register"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"SomeClass"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"class"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"        // 创建SomeClass实例")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"        SomeClass"),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," object"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}}," new"),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}}," SomeClass"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"        object"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"value"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),i("span",{style:{"--shiki-light":"#B5695999","--shiki-dark":"#C98A7D99"}},' "'),i("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"Hello Kryo!"),i("span",{style:{"--shiki-light":"#B5695999","--shiki-dark":"#C98A7D99"}},'"'),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"        // 创建文件路径对象 且文件名为file.bin")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"        Path"),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," path"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," Paths"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"get"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#B5695999","--shiki-dark":"#C98A7D99"}},'"'),i("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"file.bin"),i("span",{style:{"--shiki-light":"#B5695999","--shiki-dark":"#C98A7D99"}},'"'),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"        // 创建输出对象 用于写入序列化数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"        // Files.newOutputStream(path) 打开输出流 用于写入指定路径的文件")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"        Output"),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," output"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}}," new"),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}}," Output"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"Files"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"newOutputStream"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"path"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"));")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"        // 将object序列化后的二进制数据 写入到output流中")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"        kryo"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"writeObject"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"output"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},","),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," object"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"        // 关闭output流")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"        output"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"close"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"        // 创建输入对象 读取序列化数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"        Input"),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," input"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),i("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}}," new"),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}}," Input"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"Files"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"newInputStream"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"path"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"));")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"        // 将读取的二进制数据 反序列化为SomeClass对象实例")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"        SomeClass"),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," object2"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," kryo"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"readObject"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"input"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},","),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," SomeClass"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"class"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"        System"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"out"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"println"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"("),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"object2"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"value"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"        // 关闭输入读取流")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"        input"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"."),i("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"close"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    static"),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," public"),i("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," class"),i("span",{style:{"--shiki-light":"#2E8F82","--shiki-dark":"#5DA994"}}," SomeClass"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"        String"),i("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}}," value"),i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true"},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),A=i("h3",{id:"protobuf",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#protobuf"},[i("span",null,"Protobuf")])],-1),D=i("p",null,"出自于Google, 性能比较优秀, 支持多种语言和跨平台, 但是使用过于繁琐, 需要自定义 LDL 文件和生成对应的序列化代码, 不够灵活, 但是也保证了没有序列化漏洞的风险",-1),u={href:"https://github.com/protocolbuffers/protobuf",target:"_blank",rel:"noopener noreferrer"},m=i("h3",{id:"protostuff",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#protostuff"},[i("span",null,"ProtoStuff")])],-1),B=i("p",null,"ProtoStuff 基于 Google Protobuf, 提供了更多的功能和更简易的用法, 同时性能也很优秀",-1),b={href:"https://github.com/protostuff/protostuff",target:"_blank",rel:"noopener noreferrer"},v=i("h3",{id:"hessian",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#hessian"},[i("span",null,"Hessian")])],-1),f=i("p",null,"是轻量级,自定义描述的二进制RPC协议, 支持跨语言, 但是是比较老的序列化实现",-1),C=i("h2",{id:"总结",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#总结"},[i("span",null,"总结")])],-1),_=i("p",null,"Kryo是专门针对Java语言序列化方式其性能非常好,所以推荐使用Kryo来作为序列化方式,",-1);function E(S,x){const a=n("ExternalLinkIcon");return h(),k("div",null,[p,d,o,i("p",null,[i("a",c,[s("github地址"),l(a)])]),g,y,A,D,i("p",null,[i("a",u,[s("github地址"),l(a)])]),m,B,i("p",null,[i("a",b,[s("github地址"),l(a)])]),v,f,C,_])}const j=t(r,[["render",E],["__file","index.html.vue"]]),J=JSON.parse(`{"path":"/article/769iatnc/","title":"序列化及序列化协议对比","lang":"zh-CN","frontmatter":{"title":"序列化及序列化协议对比","author":"花木凋零成兰","tags":["序列化","Kryo"],"createTime":"2024/04/26 15:20:01","permalink":"/article/769iatnc/","description":"什么是序列化和反序列化? 如果需要持久化Java对象比如将Java对象保存在文件中, 或在网络传输Java对象, 这些场景需要使用到序列化. 序列化 将数据结构或对象转化成二进制字节流的过程 反序列化 将在序列化过程中所产生的二进制字节流转换成数据结构或者对象的过程 目的 序列化的主要目的是 通过网络传输对象 或者是将 对象存储到文件系统,数据库或内存...","head":[["script",{"id":"check-dark-mode"},";(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();"],["script",{"id":"check-mac-os"},"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))"],["meta",{"property":"og:url","content":"https://ytazwc.top/blogs/article/769iatnc/"}],["meta",{"property":"og:site_name","content":"花木凋零成兰"}],["meta",{"property":"og:title","content":"序列化及序列化协议对比"}],["meta",{"property":"og:description","content":"什么是序列化和反序列化? 如果需要持久化Java对象比如将Java对象保存在文件中, 或在网络传输Java对象, 这些场景需要使用到序列化. 序列化 将数据结构或对象转化成二进制字节流的过程 反序列化 将在序列化过程中所产生的二进制字节流转换成数据结构或者对象的过程 目的 序列化的主要目的是 通过网络传输对象 或者是将 对象存储到文件系统,数据库或内存..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-27T07:23:07.000Z"}],["meta",{"property":"article:author","content":"花木凋零成兰"}],["meta",{"property":"article:tag","content":"序列化"}],["meta",{"property":"article:tag","content":"Kryo"}],["meta",{"property":"article:modified_time","content":"2024-04-27T07:23:07.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"序列化及序列化协议对比\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-04-27T07:23:07.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"花木凋零成兰\\"}]}"]]},"headers":[{"level":2,"title":"什么是序列化和反序列化?","slug":"什么是序列化和反序列化","link":"#什么是序列化和反序列化","children":[{"level":3,"title":"序列化","slug":"序列化","link":"#序列化","children":[]},{"level":3,"title":"反序列化","slug":"反序列化","link":"#反序列化","children":[]},{"level":3,"title":"目的","slug":"目的","link":"#目的","children":[]}]},{"level":2,"title":"常见序列化协议","slug":"常见序列化协议","link":"#常见序列化协议","children":[{"level":3,"title":"JDK 自带的序列化方式","slug":"jdk-自带的序列化方式","link":"#jdk-自带的序列化方式","children":[]},{"level":3,"title":"Kryo","slug":"kryo","link":"#kryo","children":[]},{"level":3,"title":"Protobuf","slug":"protobuf","link":"#protobuf","children":[]},{"level":3,"title":"ProtoStuff","slug":"protostuff","link":"#protostuff","children":[]},{"level":3,"title":"Hessian","slug":"hessian","link":"#hessian","children":[]}]},{"level":2,"title":"总结","slug":"总结","link":"#总结","children":[]}],"isBlogPost":true,"readingTime":{"minutes":4.27,"words":1280},"git":{"updatedTime":1714202587000,"contributors":[{"name":"YTAZWC","email":"18570354653@163.com","commits":3}]},"autoDesc":true,"filePathRelative":"othernotes/杂记/序列化及方式对比分析.md","categoryList":[{"type":10000,"name":"othernotes"},{"type":10002,"name":"杂记"}]}`);export{j as comp,J as data};
