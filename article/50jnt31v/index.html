<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.9" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.53" /><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();</script><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><meta property="og:url" content="https://ytazwc.top/blogs/article/50jnt31v/"><meta property="og:site_name" content="花木凋零成兰"><meta property="og:title" content="Socket网络通信入门"><meta property="og:description" content="什么是Socket(套接字) Socket是一个抽象概念, 应用程序可以通过它发送或接收数据, 使用Socket进行网络通信时, 通过Socket可以让我们的数据在网络中传输, 操作套接字时, 和读取文件很像, 套接字时IP地址与端口的组合, 套接字Socket=(IP地址:端口号) 实现网络通信,至少需要一对套接字: 服务器端; Server Soc..."><meta property="og:type" content="article"><meta property="og:image" content="https://github.com/YTAZWC/picx-images-hosting/raw/master/杂记/image.67x9jqjox5.webp"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-05-08T01:32:20.000Z"><meta property="article:author" content="花木凋零成兰"><meta property="article:tag" content="Java"><meta property="article:tag" content="Socket"><meta property="article:tag" content="网络通信"><meta property="article:modified_time" content="2024-05-08T01:32:20.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Socket网络通信入门","image":["https://github.com/YTAZWC/picx-images-hosting/raw/master/杂记/image.67x9jqjox5.webp"],"dateModified":"2024-05-08T01:32:20.000Z","author":[{"@type":"Person","name":"花木凋零成兰"}]}</script><link rel="icon" type="image/avif" href="/images/ok.avif"><title>Socket网络通信入门 | 花木凋零成兰</title><meta name="description" content="什么是Socket(套接字) Socket是一个抽象概念, 应用程序可以通过它发送或接收数据, 使用Socket进行网络通信时, 通过Socket可以让我们的数据在网络中传输, 操作套接字时, 和读取文件很像, 套接字时IP地址与端口的组合, 套接字Socket=(IP地址:端口号) 实现网络通信,至少需要一对套接字: 服务器端; Server Soc..."><link rel="preload" href="/blogs/assets/style-MyST9v-W.css" as="style"><link rel="stylesheet" href="/blogs/assets/style-MyST9v-W.css"><link rel="modulepreload" href="/blogs/assets/app-ziKsUbe6.js"><link rel="modulepreload" href="/blogs/assets/index.html-BjiPSmqY.js"><link rel="prefetch" href="/blogs/assets/index.html-taopKmb6.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CdzlvaAu.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CifukpUl.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-_1tdURui.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DNm7Wtcg.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BvGy71Zt.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-LV-Sn02l.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-B15cSL65.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CaTWsm22.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-N2tL9Swu.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-5zqfyn0O.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-KoEi5asr.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-6EVQZosz.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Ar5VuAd0.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-kqDfsXxn.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BylPxc67.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-YehIItE6.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-9vFKaGoL.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CgEYMl_O.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BefarD7b.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-dUq3niKt.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Bd_j5shs.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DCIiLGJK.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DQqy5BqH.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CzEzkRUY.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BGOLSyUO.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-COHpw54D.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CX6okqWa.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BSGfvL6C.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BDZkDapd.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BnvE88p3.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BnGdo0lr.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DcndQGwz.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CXroTG5J.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DgZmpkrm.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CTDVTCrC.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CQLEP0st.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DtR0W9xW.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-03LETUIR.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DM-axCeS.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BSGtA5rR.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CTuNgJFm.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BjBUoBAi.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BensIsU9.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CeKqluoZ.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CAgwkw-5.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-BaX9dDo1.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CJgp3LwU.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-B5of76ba.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Cu9X3Tx7.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CI98kqSb.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DWXqXRLa.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-B-b12z7J.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-CGzZANVq.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-hJVBv4Re.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Cyp6RP-f.js" as="script"><link rel="prefetch" href="/blogs/assets/404.html-BPbi2yyd.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-Bvi5HzuC.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DSso2m8S.js" as="script"><link rel="prefetch" href="/blogs/assets/index.html-DjmMmJ3t.js" as="script"><link rel="prefetch" href="/blogs/assets/SearchBox-D1WJd2Yc.js" as="script"><link rel="prefetch" href="/blogs/assets/mermaid.core-c_neCJ49.js" as="script"></head><body><div id="app"><!--[--><div class="theme-plume" data-v-a5c639d0><!--[--><!--[--><span tabindex="-1" data-v-72372f0f></span><a href="#LayoutContent" class="skip-link visually-hidden" data-v-72372f0f> Skip to content </a><!--]--><!----><div class="nav-wrapper" data-v-a5c639d0 data-v-ab1efab5><div class="navbar-wrapper" data-v-ab1efab5 data-v-7f74ef57><div class="container" data-v-7f74ef57><div class="title" data-v-7f74ef57><div class="navbar-title" data-v-7f74ef57 data-v-5bc7a806><a class="auto-link link title" href="/" data-v-5bc7a806 data-v-9dcd60c1><!--[--><!--[--><!--[--><!--[--><img class="plume-image dark logo" src="/blogs/images/ok.avif" alt data-v-ad923c05><!--]--><!--[--><img class="plume-image light logo" src="/blogs/images/ok.avif" alt data-v-ad923c05><!--]--><!--]--><!--]--> 花木凋零成兰<!--]--><!----></a></div></div><div class="content" data-v-7f74ef57><div class="curtain" data-v-7f74ef57></div><div class="content-body" data-v-7f74ef57><div class="navbar-search search" data-v-7f74ef57><div class="search-wrapper" data-v-e332515b><!----><div id="local-search" data-v-e332515b><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-e332515b><span class="mini-search-button-container"><svg class="mini-search-search-icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="navbar-menu menu" data-v-7f74ef57 data-v-abd56a63><span id="main-nav-aria-label" class="visually-hidden" data-v-abd56a63>Main Navigation</span><!--[--><!--[--><a class="auto-link link navbar-menu-link" href="/" data-v-abd56a63 data-v-cb73c46e data-v-9dcd60c1><!--[--><!----><i data-v-cb73c46e>首页</i><!--]--><!----></a><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/blog/" data-v-abd56a63 data-v-cb73c46e data-v-9dcd60c1><!--[--><!----><i data-v-cb73c46e>博客</i><!--]--><!----></a><!--]--><!--[--><div class="flyout-wrapper navbar-menu-group" data-v-abd56a63 data-v-8119e2dc><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8119e2dc><span class="text" data-v-8119e2dc><!----><!----><span data-v-8119e2dc>我的</span><span class="vpi-chevron-down text-icon" data-v-8119e2dc></span></span></button><div class="menu" data-v-8119e2dc><div class="menu-wrapper" data-v-8119e2dc data-v-056d3421><div class="items" data-v-056d3421><!--[--><!--[--><div class="menu-link" data-v-056d3421 data-v-820f0f1e><a class="auto-link link" href="https://github.com/YTAZWC" target="_blank" rel="noreferrer" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>Github</i><!--]--><span class="vpi-external-link icon" data-v-9dcd60c1></span></a></div><!--]--><!--[--><div class="menu-link" data-v-056d3421 data-v-820f0f1e><a class="auto-link link" href="https://gitee.com/ytaml" target="_blank" rel="noreferrer" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>Gitee</i><!--]--><span class="vpi-external-link icon" data-v-9dcd60c1></span></a></div><!--]--><!--[--><div class="menu-link" data-v-056d3421 data-v-820f0f1e><a class="auto-link link" href="https://blog.csdn.net/qq_61457746" target="_blank" rel="noreferrer" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>CSDN</i><!--]--><span class="vpi-external-link icon" data-v-9dcd60c1></span></a></div><!--]--><!--[--><div class="menu-link" data-v-056d3421 data-v-820f0f1e><a class="auto-link link" href="https://ytazwc.top" target="_blank" rel="noreferrer" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>旧博客</i><!--]--><span class="vpi-external-link icon" data-v-9dcd60c1></span></a></div><!--]--><!--[--><div class="menu-link" data-v-056d3421 data-v-820f0f1e><a class="auto-link link" href="mailto:18570354653@163.com" target="_blank" rel="noreferrer" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>邮箱</i><!--]--><span class="vpi-external-link icon" data-v-9dcd60c1></span></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="flyout-wrapper navbar-menu-group" data-v-abd56a63 data-v-8119e2dc><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8119e2dc><span class="text" data-v-8119e2dc><!----><!----><span data-v-8119e2dc>笔记</span><span class="vpi-chevron-down text-icon" data-v-8119e2dc></span></span></button><div class="menu" data-v-8119e2dc><div class="menu-wrapper" data-v-8119e2dc data-v-056d3421><div class="items" data-v-056d3421><!--[--><!--[--><div class="menu-link" data-v-056d3421 data-v-820f0f1e><a class="auto-link link" href="/kamacoder/" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>卡码网刷题</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-056d3421 data-v-820f0f1e><a class="auto-link link" href="/leetcode/" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>Leetcode刷题</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-056d3421 data-v-820f0f1e><a class="auto-link link" href="/learn/" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>开发学习</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-056d3421 data-v-820f0f1e><a class="auto-link link" href="/design-pattern/" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>设计模式</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-056d3421 data-v-820f0f1e><a class="auto-link link" href="/java-concurrent/" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>Java并发</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-056d3421 data-v-820f0f1e><a class="auto-link link" href="/mysql-learn/" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>MySQL学习</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-056d3421 data-v-820f0f1e><a class="auto-link link" href="/zookeeper/" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>Zookeeper</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-056d3421 data-v-820f0f1e><a class="auto-link link" href="/dubbo/" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>Dubbo</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-056d3421 data-v-820f0f1e><a class="auto-link link" href="/test-quality/" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>软件测试与质量</i><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="flyout-wrapper navbar-menu-group" data-v-abd56a63 data-v-8119e2dc><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8119e2dc><span class="text" data-v-8119e2dc><!----><!----><span data-v-8119e2dc>文档</span><span class="vpi-chevron-down text-icon" data-v-8119e2dc></span></span></button><div class="menu" data-v-8119e2dc><div class="menu-wrapper" data-v-8119e2dc data-v-056d3421><div class="items" data-v-056d3421><!--[--><!--[--><div class="menu-group" data-v-056d3421 data-v-e6c1bcb3><p class="title" data-v-e6c1bcb3><!----><span data-v-e6c1bcb3>开发文档</span></p><!--[--><!--[--><div class="menu-link" data-v-e6c1bcb3 data-v-820f0f1e><a class="auto-link link" href="https://cn.dubbo.apache.org/zh-cn/overview/home/" target="_blank" rel="noreferrer" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>Dubbo</i><!--]--><span class="vpi-external-link icon" data-v-9dcd60c1></span></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="menu-group" data-v-056d3421 data-v-e6c1bcb3><p class="title" data-v-e6c1bcb3><!----><span data-v-e6c1bcb3>Blog文档</span></p><!--[--><!--[--><div class="menu-link" data-v-e6c1bcb3 data-v-820f0f1e><a class="auto-link link" href="https://plume.pengzhanbo.cn/" target="_blank" rel="noreferrer" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>指南</i><!--]--><span class="vpi-external-link icon" data-v-9dcd60c1></span></a></div><!--]--><!--[--><div class="menu-link" data-v-e6c1bcb3 data-v-820f0f1e><a class="auto-link link" href="https://github.com/pengzhanbo/vuepress-theme-plume" target="_blank" rel="noreferrer" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>源代码</i><!--]--><span class="vpi-external-link icon" data-v-9dcd60c1></span></a></div><!--]--><!--[--><div class="menu-link" data-v-e6c1bcb3 data-v-820f0f1e><a class="auto-link link" href="https://pengzhanbo.cn/" target="_blank" rel="noreferrer" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>Demo</i><!--]--><span class="vpi-external-link icon" data-v-9dcd60c1></span></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="menu-group" data-v-056d3421 data-v-e6c1bcb3><p class="title" data-v-e6c1bcb3><!----><span data-v-e6c1bcb3>资源等</span></p><!--[--><!--[--><div class="menu-link" data-v-e6c1bcb3 data-v-820f0f1e><a class="auto-link link" href="https://icon-sets.iconify.design/" target="_blank" rel="noreferrer" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>图标库</i><!--]--><span class="vpi-external-link icon" data-v-9dcd60c1></span></a></div><!--]--><!--[--><div class="menu-link" data-v-e6c1bcb3 data-v-820f0f1e><a class="auto-link link" href="https://mermaid.nodejs.cn/" target="_blank" rel="noreferrer" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>Mermaid中文网</i><!--]--><span class="vpi-external-link icon" data-v-9dcd60c1></span></a></div><!--]--><!--[--><div class="menu-link" data-v-e6c1bcb3 data-v-820f0f1e><a class="auto-link link" href="https://www.deepl.com/zh/translator" target="_blank" rel="noreferrer" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>在线翻译DeepL</i><!--]--><span class="vpi-external-link icon" data-v-9dcd60c1></span></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="flyout-wrapper navbar-menu-group" data-v-abd56a63 data-v-8119e2dc><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8119e2dc><span class="text" data-v-8119e2dc><!----><!----><span data-v-8119e2dc>工具</span><span class="vpi-chevron-down text-icon" data-v-8119e2dc></span></span></button><div class="menu" data-v-8119e2dc><div class="menu-wrapper" data-v-8119e2dc data-v-056d3421><div class="items" data-v-056d3421><!--[--><!--[--><div class="menu-group" data-v-056d3421 data-v-e6c1bcb3><p class="title" data-v-e6c1bcb3><!----><span data-v-e6c1bcb3>绘制</span></p><!--[--><!--[--><div class="menu-link" data-v-e6c1bcb3 data-v-820f0f1e><a class="auto-link link" href="https://excalidraw.com/" target="_blank" rel="noreferrer" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>Excalidraw</i><!--]--><span class="vpi-external-link icon" data-v-9dcd60c1></span></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="menu-link" data-v-056d3421 data-v-820f0f1e><a class="auto-link link" href="https://www.online-java.com/" target="_blank" rel="noreferrer" data-v-820f0f1e data-v-9dcd60c1><!--[--><!----><i data-v-820f0f1e>Online Java</i><!--]--><span class="vpi-external-link icon" data-v-9dcd60c1></span></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="navbar-appearance appearance" data-v-7f74ef57 data-v-4e10e44e><button class="switch-wrapper switch-appearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-4e10e44e data-v-1087fbd6 data-v-84e6883b><span class="check" data-v-84e6883b><span class="icon" data-v-84e6883b><!--[--><span class="vpi-sun sun" data-v-1087fbd6></span><span class="vpi-moon moon" data-v-1087fbd6></span><!--]--></span></span></button></div><!----><div class="flyout-wrapper navbar-extra extra" data-v-7f74ef57 data-v-4caa222c data-v-8119e2dc><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8119e2dc><span class="vpi-more-horizontal icon" data-v-8119e2dc></span></button><div class="menu" data-v-8119e2dc><div class="menu-wrapper" data-v-8119e2dc data-v-056d3421><!----><!--[--><!--[--><!----><div class="group" data-v-4caa222c><div class="item appearance" data-v-4caa222c><p class="label" data-v-4caa222c>外观</p><div class="appearance-action" data-v-4caa222c><button class="switch-wrapper switch-appearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-4caa222c data-v-1087fbd6 data-v-84e6883b><span class="check" data-v-84e6883b><span class="icon" data-v-84e6883b><!--[--><span class="vpi-sun sun" data-v-1087fbd6></span><span class="vpi-moon moon" data-v-1087fbd6></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><button type="button" class="navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-7f74ef57 data-v-bcc0bf40><span class="container" data-v-bcc0bf40><span class="top" data-v-bcc0bf40></span><span class="middle" data-v-bcc0bf40></span><span class="bottom" data-v-bcc0bf40></span></span></button></div></div></div></div><!----></div><div class="local-nav reached-top is-blog" data-v-a5c639d0 data-v-7667d6fc><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-7667d6fc><span class="vpi-align-left menu-icon" data-v-7667d6fc></span><span class="menu-text" data-v-7667d6fc>Menu</span></button><div class="local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-7667d6fc data-v-a15b2457><button class="" data-v-a15b2457>此页内容 <span class="vpi-chevron-right icon" data-v-a15b2457></span></button><!----></div></div><!----><div id="LayoutContent" class="layout-content" data-v-a5c639d0 data-v-33ce4d7f><!--[--><div class="has-aside is-blog plume-page" data-v-4ad3b558><div class="container" data-v-4ad3b558><div class="aside" data-v-4ad3b558><div class="aside-container" data-v-4ad3b558><div class="aside-content" data-v-4ad3b558><div class="page-aside" data-v-4ad3b558 data-v-7b38e69d><div class="has-outline page-aside-outline" data-v-7b38e69d><div class="content" data-v-7b38e69d><div class="outline-marker" data-v-7b38e69d></div><div class="outline-title" data-v-7b38e69d><span data-v-7b38e69d>此页内容</span><span class="vpi-print icon" data-v-7b38e69d></span></div><nav aria-labelledby="doc-outline-aria-label" data-v-7b38e69d><span id="doc-outline-aria-label" class="visually-hidden" data-v-7b38e69d> Table of Contents for current page </span><ul class="root" data-v-7b38e69d data-v-6a816aae><!--[--><li data-v-6a816aae><a class="outline-link" href="#什么是socket-套接字" data-v-6a816aae>什么是Socket(套接字)</a><!----></li><li data-v-6a816aae><a class="outline-link" href="#socket网络通信过程" data-v-6a816aae>Socket网络通信过程</a><!----></li><li data-v-6a816aae><a class="outline-link" href="#入门示例" data-v-6a816aae>入门示例</a><ul class="nested" data-v-6a816aae data-v-6a816aae><!--[--><li data-v-6a816aae><a class="outline-link" href="#服务端" data-v-6a816aae>服务端</a><!----></li><li data-v-6a816aae><a class="outline-link" href="#客户端" data-v-6a816aae>客户端</a><!----></li><li data-v-6a816aae><a class="outline-link" href="#启动" data-v-6a816aae>启动</a><!----></li><!--]--></ul></li><!--]--></ul></nav></div></div></div></div></div></div><div class="content" data-v-4ad3b558><div class="content-container" data-v-4ad3b558><!--[--><div class="page-category-wrapper" data-v-ff34fbc5><!--[--><!--[--><span class="category" data-v-ff34fbc5>othernotes</span><span class="dot" data-v-ff34fbc5>›</span><!--]--><!--[--><span class="category" data-v-ff34fbc5>杂记</span><!----><!--]--><!--]--></div><h1 class="page-title" data-v-ff34fbc5>Socket网络通信入门</h1><div class="page-meta-wrapper" data-v-ff34fbc5><p class="author" data-v-ff34fbc5><span class="icon vpi-user" data-v-ff34fbc5></span><span data-v-ff34fbc5>花木凋零成兰</span></p><p class="reading-time" data-v-ff34fbc5><span class="vpi-books icon" data-v-ff34fbc5></span><span data-v-ff34fbc5>1192字</span><span data-v-ff34fbc5>约4分钟</span></p><p data-v-ff34fbc5><span class="vpi-tag icon" data-v-ff34fbc5></span><!--[--><span class="tag" style="--vp-tag-color:#946300;--vp-tag-bg-color:rgba(234, 179, 8, 0.14);" data-v-ff34fbc5>Java</span><span class="tag" style="--vp-tag-color:#7e4cc9;--vp-tag-bg-color:rgba(159, 122, 234, 0.14);" data-v-ff34fbc5>Socket</span><span class="tag" style="--vp-tag-color:#299764;--vp-tag-bg-color:rgba(16, 185, 129, 0.14);" data-v-ff34fbc5>网络通信</span><!--]--></p><p class="create-time" data-v-ff34fbc5><span class="vpi-clock icon" data-v-ff34fbc5></span><span data-v-ff34fbc5>2024-04-28</span></p></div><!--]--><!--[--><div style="position:relative;" data-v-4ad3b558><div class="plume-content" data-v-4ad3b558><h2 id="什么是socket-套接字" tabindex="-1"><a class="header-anchor" href="#什么是socket-套接字"><span>什么是Socket(套接字)</span></a></h2><p>Socket是一个抽象概念, 应用程序可以通过它发送或接收数据, 使用Socket进行网络通信时, 通过Socket可以让我们的数据在网络中传输, 操作套接字时, 和读取文件很像, 套接字时IP地址与端口的组合, 套接字Socket=(IP地址:端口号)</p><p>实现网络通信,至少需要一对套接字:</p><ol><li>服务器端; Server Socket</li><li>客户端的; Client Socket</li></ol><p>在Java开发中,使用Socket时主要用到以下两个类(在<code>Java.net</code>包下):</p><ul><li><code>Socket</code>: 一般用于客户端</li><li><code>ServerSocket</code>: 用户服务端</li></ul><h2 id="socket网络通信过程" tabindex="-1"><a class="header-anchor" href="#socket网络通信过程"><span>Socket网络通信过程</span></a></h2><p>过程如下所示:</p><p><img src="https://github.com/YTAZWC/picx-images-hosting/raw/master/杂记/image.67x9jqjox5.webp" alt="https://www.javatpoint.com/socket-programming"></p><p><strong>网络通信过程简单来说分为下面4步:</strong></p><ol><li>建立服务端并且监听客户端请求</li><li>客户端请求, 服务端和客户端建立连接</li><li>两端之间可以传递数据</li><li>关闭资源</li></ol><p>对应到服务端和客户端的话, 如下面所示:</p><p><strong>服务器端:</strong></p><ol><li>创建<code>ServerSocket</code>对象并且绑定地址(ip)和端口号(port), <code>server.bind(new InetSocketAddress(host, port))</code></li><li>通过<code>accept()</code>方法监听客户端请求</li><li>连接建立后, 通过输入流读取客户端发送的请求信息</li><li>通过输出流向客户端发送响应信息</li><li>关闭相关资源</li></ol><p><strong>客户端:</strong></p><ol><li>创建<code>Socket</code>对象并且连接指定的 服务器地址(id)和端口号(port); <code>socket.connect(inetSocketAddress)</code></li><li>连接建立后, 通过输出流向服务器端发送请求信息</li><li>通过输入流获取服务器响应的信息</li><li>关闭相关资源</li></ol><h2 id="入门示例" tabindex="-1"><a class="header-anchor" href="#入门示例"><span>入门示例</span></a></h2><p>首先需要创建一个<code>Message</code>类对象, 用于服务端与客户端通信,传递信息; 代码如下所示:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">Data</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">AllArgsConstructor</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">NoArgsConstructor</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">public</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> Message</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> implements</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> Serializable</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    private</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> String</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> content</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="服务端" tabindex="-1"><a class="header-anchor" href="#服务端"><span>服务端</span></a></h3><p>服务端示例代码如下所示:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">Slf4j</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">public</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> HelloServer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    public</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> void</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> start</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">int</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> port</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        // 1. 创建 ServerSocket 对象并且绑定一个端口</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        try</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">                ServerSocket</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> server</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ServerSocket</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">port</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                )</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">            // Socket 对象</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            Socket</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> socket</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">            // 2. 通过 accept() 方法监听客户端请求</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">            while</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ((</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">socket </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> server</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">accept</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">())</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> !=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> null</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">                log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">info</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">client connected</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">                try</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">                        ObjectInputStream</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> objectInputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ObjectInputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">socket</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">getInputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">());</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">                        ObjectOutputStream</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> objectOutputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ObjectOutputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">socket</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">getOutputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">());</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                )</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">                    // 3. 通过输入流读取客户端发送的请求信息</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">                    Message</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> message</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Message</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> objectInputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">readObject</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">                    log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">info</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">server receive message: </span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> message</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">getContent</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">());</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">                    message</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">setContent</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">new content</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">                    // 4. 通过输出流向客户端发送响应信息</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">                    objectOutputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">writeObject</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">message</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">                    objectOutputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">flush</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> catch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">ClassNotFoundException </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">e</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">                    log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">occur exception: </span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> e</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> catch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">IOException </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">e</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">occur IOException: </span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> e</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    public</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> static</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> void</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> main</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> args</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        HelloServer</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> helloServer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> HelloServer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        helloServer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">start</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">6666</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中<code>ServerSocket</code>的<code>accept</code>方法是阻塞方法,即<code>ServerSocket</code>在调用<code>accept</code>方法等待客户端的连接请求时会发生阻塞,直到收到客户端发送的连接请求才会继续往下执行代码.</p><p>同时上述代码也有一个问题, 即服务端需要等待客户端的请求,一次只能处理一个客户端的连接, 如果需要管理多个客户端的话,就需要为每个客户端的连接创建一个线程.</p><p>但是,每次有客户端请求,就创建一个线程的话,容易造成 <strong>资源浪费</strong>, 一般使用线程池来管理线程;</p><p>线程池可以让线程的创建和回收成本更低, 同时也可以指定线程池的可创建线程的最大数量, 如此可以避免线程创建过多,机器资源被不合理消耗.</p><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>但是底层依旧是同步阻塞的 BIO 模型, 无法从根本上解决问题, 为了解决问题, Java 1.4中引入了 NIO, 一种同步非阻塞的 I/O模型, 但是使用同步非阻塞的 I/O 模型 NIO来进行网络编程非常麻烦, 更多推荐使用基于 NIO 的网络变成框架 Netty</p></div><h3 id="客户端" tabindex="-1"><a class="header-anchor" href="#客户端"><span>客户端</span></a></h3><p>客户端示例代码如下:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">Slf4j</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">public</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> HelloClient</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    public</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> Object </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">send</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Message </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">message</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> String </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">host</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> int</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> port</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        // 1. 创建Socket对象并且指定服务器的地址和端口号</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        try</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">                Socket</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> socket</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> Socket</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">host</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> port</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                )</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">            // 创建输出流</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            ObjectOutputStream</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> objectOutputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ObjectOutputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">socket</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">getOutputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">());</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">            // 2. 通过输出流向服务器端发送请求信息</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            objectOutputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">writeObject</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">message</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">            // 3. 通过输入流获取服务器响应的信息</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            ObjectInputStream</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> objectInputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ObjectInputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">socket</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">getInputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">());</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">            return</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> objectInputStream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">readObject</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> catch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">IOException </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">|</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ClassNotFoundException </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">e</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">occur exception:</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> e</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        return</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> null</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    public</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> static</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> void</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> main</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[]</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> args</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        HelloClient</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> helloClient</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> HelloClient</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        Message</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> message</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Message</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> helloClient</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">send</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> Message</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">content from client</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">),</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">127.0.0.1</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 6666</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        System</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">out</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">println</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">client receive message: </span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> message</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">getContent</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">());</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="启动" tabindex="-1"><a class="header-anchor" href="#启动"><span>启动</span></a></h3><p>先启动服务端, 然后再启动客户端,启动后,输出结果如下所示:</p><p>客户端:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span>client receive message: new content</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>服务端:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span>09:32:44.097 [main] INFO top.ytazwc.HelloServer - client connected</span></span>
<span class="line"><span>09:32:44.136 [main] INFO top.ytazwc.HelloServer - server receive message: content from client</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><!----></div><footer class="page-footer" data-v-4ad3b558 data-v-6f3122aa><!----><div class="contributors" data-v-6f3122aa><span class="contributors-label" data-v-6f3122aa>贡献者: </span><span class="contributors-info" data-v-6f3122aa><!--[--><!--[--><span class="contributor" title="email: 18570354653@163.com" data-v-6f3122aa>YTAZWC</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-6f3122aa><div class="pager" data-v-6f3122aa><a class="auto-link link pager-link prev" href="/article/o93hii8p/" data-v-6f3122aa data-v-9dcd60c1><!--[--><span class="desc" data-v-6f3122aa>上一页</span><span class="title" data-v-6f3122aa>BigDecimal学习</span><!--]--><!----></a></div><div class="pager" data-v-6f3122aa><a class="auto-link link pager-link next" href="/article/igwqk2pp/" data-v-6f3122aa data-v-9dcd60c1><!--[--><span class="desc" data-v-6f3122aa>下一页</span><span class="title" data-v-6f3122aa>提问的智慧</span><!--]--><!----></a></div></nav></footer><!----><!--]--></div></div></div></div><button style="display:none;" type="button" class="back-to-top-button" aria-label="back to top" data-v-a5c639d0 data-v-cd9038ab><span class="percent" data-v-cd9038ab>0%</span><span class="show icon vpi-back-to-top" data-v-cd9038ab></span><svg aria-hidden="true" data-v-cd9038ab><circle cx="50%" cy="50%" style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-cd9038ab></circle></svg></button><footer class="plume-footer" data-v-a5c639d0 data-v-c7f71376><div class="container" data-v-c7f71376><p class="message" data-v-c7f71376>Power by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://github.com/pengzhanbo/vuepress-theme-plume">vuepress-theme-plume</a></p><!----></div></footer><!--]--></div><!--]--></div><!--[--><!--]--><!--]--></div><script type="module" src="/blogs/assets/app-ziKsUbe6.js" defer></script></body></html>